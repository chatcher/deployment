#!/usr/bin/env bash

usage() {
	echo "Set a timer to remind you to do something with the specified URL." >&2
	echo >&2
	echo "usage:" >&2
	echo "  $(basename "${0}") <url>" >&2
	echo >&2
	echo "parameter:" >&2
	echo "  url    The URL to open" >&2
	echo >&2

	if [ -n "${1}" ]; then echo -e "${A_CS} error: ${1} ${N_CS}" >&2; fi

	exit 1
}

if [[ "${1}" =~ ^-?-h(elp)?$ ]]; then usage ''; fi
if [[ -z "${1}" ]]; then usage 'URL required'; fi

timer() ({
	sleep 450
	say 'check this thing' &
	open "${1}"
})

timer "${1}" &
echo -e "${S_CS} Okay ${N_CS}" >&2
